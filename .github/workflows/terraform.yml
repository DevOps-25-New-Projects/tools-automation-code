#name: provision tools infra
#on: [push, workflow_dispatch]
#jobs:
#  provision:
#    runs-on: ubuntu-latest
#    steps:
#      - uses: actions/checkout@v4
#      - run: terraform init
#      - run: terraform plan

name: Terraform CI
on: [push, workflow_dispatch]

jobs:
  tf:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      - name: Set up Terraform
        uses: hashicorp/setup-terraform@v3
        with:
          terraform_version: 1.7.5   # or "latest"

      - name: Verify install
        run: |
          which terraform
          terraform -version

      - name: terraform init
        run: terraform init -input=false

      - name: terraform plan
        run: terraform plan -no-color







